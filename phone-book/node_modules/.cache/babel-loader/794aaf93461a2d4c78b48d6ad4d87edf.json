{"ast":null,"code":"import _regeneratorRuntime from\"/home/david/Documents/projects/react/phone-book/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/david/Documents/projects/react/phone-book/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/david/Documents/projects/react/phone-book/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/david/Documents/projects/react/phone-book/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/david/Documents/projects/react/phone-book/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/david/Documents/projects/react/phone-book/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/david/Documents/projects/react/phone-book/node_modules/@babel/runtime/helpers/esm/createSuper\";import{Component}from'react';import ContactNav from'./Components/ContactNav';import Nav from'./Components/Nav';import Main from'./Components/Main';import AddContact from'./Components/AddContact';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var index=/*#__PURE__*/function(_Component){_inherits(index,_Component);var _super=_createSuper(index);function index(props){var _this;_classCallCheck(this,index);_this=_super.call(this,props);_this.signOut=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:document.cookie.split(\";\").forEach(function(c){document.cookie=c.replace(/^ +/,\"\").replace(/=.*/,\"=;expires=\"+new Date().toUTCString()+\";path=/\");});case 1:case\"end\":return _context.stop();}}},_callee);}));_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var cookieName,cookieNameOnly,url,postData,fetchData,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:cookieName=document.cookie;cookieNameOnly=cookieName.replace('username=','');url='http://192.168.254.17:8080/getContactInfo';postData={method:'POST',headers:{'accept':'application/json','content-type':'application/json'},body:JSON.stringify({username:cookieNameOnly})};_context2.next=6;return fetch(url,postData);case 6:fetchData=_context2.sent;_context2.next=9;return fetchData.json();case 9:data=_context2.sent;console.log(data);_this.setState({fields:data});case 12:case\"end\":return _context2.stop();}}},_callee2);}));_this.submitForm=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e){var cookieName,cookieNameOnly,nameVal,streetVal,cityVal,emailVal,url,postData,fetchData,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:e.preventDefault();cookieName=document.cookie;cookieNameOnly=cookieName.replace('username=','');_context3.next=5;return _this.formName.value;case 5:nameVal=_context3.sent;_context3.next=8;return _this.formStreet.value;case 8:streetVal=_context3.sent;_context3.next=11;return _this.formCity.value;case 11:cityVal=_context3.sent;_context3.next=14;return _this.formEmail.value;case 14:emailVal=_context3.sent;url='http://192.168.254.17:8080/addContactInfo';postData={method:'POST',headers:{'accept':'application/json','content-type':'application/json'},body:JSON.stringify({username:cookieNameOnly,name:nameVal,street:streetVal,city:cityVal,email:emailVal})};_context3.next=19;return fetch(url,postData);case 19:fetchData=_context3.sent;_context3.next=22;return fetchData.json();case 22:data=_context3.sent;console.log(data);window.location.reload();case 25:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x){return _ref3.apply(this,arguments);};}();_this.state={fields:null};_this.submitForm=_this.submitForm.bind(_assertThisInitialized(_this));_this.signOut=_this.signOut.bind(_assertThisInitialized(_this));return _this;}_createClass(index,[{key:\"render\",value:function render(){var _this2=this;if(!document.cookie){return/*#__PURE__*/_jsx(\"h1\",{children:\"not logged in\"});}else if(this.state.fields==null){return/*#__PURE__*/_jsx(\"h1\",{children:\"loading\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"ContactsPage\",children:[/*#__PURE__*/_jsx(Nav,{signOut:this.signOut}),/*#__PURE__*/_jsx(\"div\",{className:\"ContactNavDisplay\",children:/*#__PURE__*/_jsx(\"div\",{className:\"showHide\",children:/*#__PURE__*/_jsx(AddContact,{name:function name(_name){return _this2.formName=_name;},street:function street(_street){return _this2.formStreet=_street;},city:function city(_city){return _this2.formCity=_city;},email:function email(_email){return _this2.formEmail=_email;},formSubmit:this.submitForm})})}),/*#__PURE__*/_jsx(Main,{content:this.state.fields})]});}}]);return index;}(Component);export default index;","map":{"version":3,"sources":["/home/david/Documents/projects/react/phone-book/src/Routes/ContactsPage/ContactsPage.js"],"names":["Component","ContactNav","Nav","Main","AddContact","index","props","signOut","document","cookie","split","forEach","c","replace","Date","toUTCString","componentDidMount","cookieName","cookieNameOnly","url","postData","method","headers","body","JSON","stringify","username","fetch","fetchData","json","data","console","log","setState","fields","submitForm","e","preventDefault","formName","value","nameVal","formStreet","streetVal","formCity","cityVal","formEmail","emailVal","name","street","city","email","window","location","reload","state","bind"],"mappings":"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","sourcesContent":["import { Component } from 'react'\nimport ContactNav from './Components/ContactNav'\nimport Nav from './Components/Nav'\nimport Main from './Components/Main'\nimport AddContact from './Components/AddContact'\n\nclass index extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            fields: null,\n        }\n        this.submitForm = this.submitForm.bind(this);\n        this.signOut = this.signOut.bind(this);\n    }\n\n\n    signOut = async()=>{\n        document.cookie.split(\";\").forEach(function(c) { document.cookie = c.replace(/^ +/, \"\").replace(/=.*/, \"=;expires=\" + new Date().toUTCString() + \";path=/\"); });\n    }\n\n    componentDidMount = async()=>{\n        const cookieName = document.cookie;\n        const cookieNameOnly = cookieName.replace('username=', '');\n        const url = 'http://192.168.254.17:8080/getContactInfo';\n        const postData = {\n            method: 'POST',\n            headers: {\n                'accept': 'application/json',\n                'content-type': 'application/json'\n            },\n            body: JSON.stringify({username: cookieNameOnly})\n        };\n        const fetchData = await fetch(url, postData);\n        const data = await fetchData.json();\n        console.log(data);\n        this.setState({fields: data});\n    }\n\n    submitForm = async(e)=>{\n        e.preventDefault();\n        const cookieName = document.cookie;\n        const cookieNameOnly = cookieName.replace('username=', '');\n        const nameVal = await this.formName.value;\n        const streetVal = await this.formStreet.value;\n        const cityVal = await this.formCity.value;\n        const emailVal = await this.formEmail.value;\n        const url = 'http://192.168.254.17:8080/addContactInfo';\n        const postData = {\n            method: 'POST',\n            headers: {\n                'accept': 'application/json',\n                'content-type': 'application/json'\n            },\n            body: JSON.stringify({\n                username: cookieNameOnly,\n                name: nameVal,\n                street: streetVal,\n                city: cityVal,\n                email: emailVal,\n            })\n        };\n\n        const fetchData = await fetch(url, postData);\n        const data = await fetchData.json();\n        console.log(data);\n        window.location.reload();\n    }\n\n    render(){\n        if (!document.cookie){\n            return <h1>not logged in</h1>;\n        }\n        else if (this.state.fields == null) {\n            return <h1>loading</h1>\n        }\n        return(\n            <div className='ContactsPage'>\n                <Nav signOut={this.signOut}/>\n                <div className='ContactNavDisplay'>\n                    <div className='showHide'>\n                    <AddContact name={name=> this.formName = name} street={street=> this.formStreet = street} city={city=> this.formCity = city} email={email=> this.formEmail = email}  formSubmit={this.submitForm} />\n                    </div>\n                </div>\n                <Main content={this.state.fields}/>\n            </div>\n        )\n    }\n}\n\nexport default index\n"]},"metadata":{},"sourceType":"module"}