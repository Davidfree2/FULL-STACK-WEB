{"ast":null,"code":"import _regeneratorRuntime from\"/home/david/Documents/projects/react/search-engine/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/david/Documents/projects/react/search-engine/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/david/Documents/projects/react/search-engine/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/david/Documents/projects/react/search-engine/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/david/Documents/projects/react/search-engine/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/david/Documents/projects/react/search-engine/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/david/Documents/projects/react/search-engine/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import SearchBar from'./Components/SearchBar';import SearchResults from'./Components/SearchResults';import HomePageLogo from'./Components/HomePageLogo';import HomePageLogoMotto from'./Components/HomePageLogoMotto';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.searchQueryAction=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var searchQueryText,fetchQuery,res,foo,data,rdata;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return _this.state.queryValue.value;case 3:searchQueryText=_context.sent;_context.next=6;return fetch('http://192.168.254.17:5000/query',{method:'post',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({queryText:searchQueryText})});case 6:fetchQuery=_context.sent;_context.next=9;return fetchQuery.text();case 9:res=_context.sent;_context.next=12;return fetch(res);case 12:foo=_context.sent;_context.next=15;return foo.json();case 15:data=_context.sent;_context.next=18;return JSON.parse(JSON.stringify(data));case 18:rdata=_context.sent;_this.setState({searchResults:rdata});console.log(rdata);case 21:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.state={searchResults:null};_this.searchQueryAction=_this.searchQueryAction.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"render\",value:function render(){var _this2=this;if(!this.state.searchResults){return/*#__PURE__*/_jsxs(\"div\",{className:\"HomePage\",children:[/*#__PURE__*/_jsx(HomePageLogo,{}),/*#__PURE__*/_jsx(HomePageLogoMotto,{}),/*#__PURE__*/_jsx(SearchBar,{queryText:function queryText(queryValue){return _this2.state.queryValue=queryValue;},submitAction:this.searchQueryAction})]});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"Nav\",children:[/*#__PURE__*/_jsx(SearchBar,{queryText:function queryText(queryValue){return _this2.state.queryValue=queryValue;},submitAction:this.searchQueryAction}),/*#__PURE__*/_jsx(\"div\",{className:\"resultInfo\",children:/*#__PURE__*/_jsxs(\"h1\",{children:[\"Total results:\",this.state.searchResults.queries.request[0].totalResults]})})]}),/*#__PURE__*/_jsx(SearchResults,{results:this.state.searchResults.items})]});}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/home/david/Documents/projects/react/search-engine/src/App.js"],"names":["React","SearchBar","SearchResults","HomePageLogo","HomePageLogoMotto","App","props","searchQueryAction","e","preventDefault","state","queryValue","value","searchQueryText","fetch","method","headers","body","JSON","stringify","queryText","fetchQuery","text","res","foo","json","data","parse","rdata","setState","searchResults","console","log","bind","queries","request","totalResults","items","Component"],"mappings":"g6BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,SAAP,KAAsB,wBAAtB,CACA,MAAOC,CAAAA,aAAP,KAA0B,4BAA1B,CACA,MAAOC,CAAAA,YAAP,KAAyB,2BAAzB,CACA,MAAOC,CAAAA,iBAAP,KAA8B,gCAA9B,C,gJAEMC,CAAAA,G,sGACF,aAAYC,KAAZ,CAAkB,qCACd,uBAAMA,KAAN,EADc,MAQlBC,iBARkB,0FAQE,iBAAMC,CAAN,oKAChBA,CAAC,CAACC,cAAF,GADgB,sBAEc,OAAKC,KAAL,CAAWC,UAAX,CAAsBC,KAFpC,QAEVC,eAFU,qCAGSC,CAAAA,KAAK,CAAC,kCAAD,CAAqC,CAC/DC,MAAM,CAAE,MADuD,CAE/DC,OAAO,CAAC,CACJ,SAAU,kBADN,CAEJ,eAAgB,kBAFZ,CAFuD,CAM/DC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAACC,SAAS,CAAEP,eAAZ,CAAf,CANyD,CAArC,CAHd,QAGVQ,UAHU,qCAWEA,CAAAA,UAAU,CAACC,IAAX,EAXF,QAWVC,GAXU,sCAYET,CAAAA,KAAK,CAACS,GAAD,CAZP,SAYVC,GAZU,sCAaGA,CAAAA,GAAG,CAACC,IAAJ,EAbH,SAaVC,IAbU,sCAcIR,CAAAA,IAAI,CAACS,KAAL,CAAWT,IAAI,CAACC,SAAL,CAAeO,IAAf,CAAX,CAdJ,SAcVE,KAdU,eAehB,MAAKC,QAAL,CAAc,CACVC,aAAa,CAAEF,KADL,CAAd,EAGAG,OAAO,CAACC,GAAR,CAAYJ,KAAZ,EAlBgB,uDARF,+DAEd,MAAKlB,KAAL,CAAa,CACToB,aAAa,CAAE,IADN,CAAb,CAGA,MAAKvB,iBAAL,CAAyB,MAAKA,iBAAL,CAAuB0B,IAAvB,+BAAzB,CALc,aAMjB,C,sCAuBD,iBAAQ,iBACJ,GAAI,CAAC,KAAKvB,KAAL,CAAWoB,aAAhB,CAA8B,CAC1B,mBACI,aAAK,SAAS,CAAC,UAAf,wBACI,KAAC,YAAD,IADJ,cAEI,KAAC,iBAAD,IAFJ,cAGI,KAAC,SAAD,EAAW,SAAS,CAAE,mBAAAnB,UAAU,QAAE,CAAA,MAAI,CAACD,KAAL,CAAWC,UAAX,CAAwBA,UAA1B,EAAhC,CAAsE,YAAY,CAAE,KAAKJ,iBAAzF,EAHJ,GADJ,CAOH,CAED,mBACI,wCACA,aAAK,SAAS,CAAC,KAAf,wBACI,KAAC,SAAD,EAAW,SAAS,CAAE,mBAAAI,UAAU,QAAE,CAAA,MAAI,CAACD,KAAL,CAAWC,UAAX,CAAwBA,UAA1B,EAAhC,CAAsE,YAAY,CAAE,KAAKJ,iBAAzF,EADJ,cAEI,YAAK,SAAS,CAAC,YAAf,uBACI,uCAAmB,KAAKG,KAAL,CAAWoB,aAAX,CAAyBI,OAAzB,CAAiCC,OAAjC,CAAyC,CAAzC,EAA4CC,YAA/D,GADJ,EAFJ,GADA,cAOI,KAAC,aAAD,EAAe,OAAO,CAAE,KAAK1B,KAAL,CAAWoB,aAAX,CAAyBO,KAAjD,EAPJ,GADJ,CAWH,C,iBApDarC,KAAK,CAACsC,S,EAuDxB,cAAejC,CAAAA,GAAf","sourcesContent":["import React from 'react'\nimport SearchBar from './Components/SearchBar'\nimport SearchResults from './Components/SearchResults'\nimport HomePageLogo from './Components/HomePageLogo'\nimport HomePageLogoMotto from './Components/HomePageLogoMotto'\n\nclass App extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            searchResults: null\n        }\n        this.searchQueryAction = this.searchQueryAction.bind(this);\n    }\n\n    searchQueryAction = async(e)=>{\n        e.preventDefault();\n        const searchQueryText = await this.state.queryValue.value;\n        const fetchQuery = await fetch('http://192.168.254.17:5000/query', {\n            method: 'post',\n            headers:{\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({queryText: searchQueryText})\n        })\n        const res = await fetchQuery.text();\n        const foo = await fetch(res);\n        const data = await foo.json();\n        const rdata = await JSON.parse(JSON.stringify(data))\n        this.setState({\n            searchResults: rdata\n        })\n        console.log(rdata);\n    }\n\n    render(){\n        if (!this.state.searchResults){\n            return(\n                <div className='HomePage'>\n                    <HomePageLogo />\n                    <HomePageLogoMotto />\n                    <SearchBar queryText={queryValue=>this.state.queryValue = queryValue} submitAction={this.searchQueryAction} />\n                </div>\n            )\n        }\n\n        return(\n            <>\n            <div className='Nav'>\n                <SearchBar queryText={queryValue=>this.state.queryValue = queryValue} submitAction={this.searchQueryAction} />\n                <div className='resultInfo'>\n                    <h1>Total results:{this.state.searchResults.queries.request[0].totalResults}</h1>\n                </div>\n            </div>\n                <SearchResults results={this.state.searchResults.items} />\n            </>\n        )\n    }\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}